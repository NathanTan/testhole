<!DOCTYPE HTML>
<!-- A simple page for animating a moving box -->
<html>
<head>
	<title>Moving Box</title>


	<style>
		#box{ 
		   background-color: blue;
		   width: 200px;
		   height: 200px;
		   position: absolute;
		}
	</style>	
	<script>
		var b;
		var dx = Math.random() * 600;
		var dy = Math.random() * 600;

		var speed = 0;
		var x=0;
		var y=0;
		function init(){
		   //setup for animations
		   b = document.getElementById("box");
		   //document.getElementById("box").
		   b.addEventListener("click", move);
		   b.onclick = function() { 
		      speed += 1; console.log(speed)
		   
			 document.getElementById("speed").innerText = "speed = " + speed;

		   };
		   //move();
		}

		window.requestAnimFrame = (function(){
		      return	window.requestAnimationFrame		||
		      		window.webkitRequestAnimationFrame	||
				window.mozRequestAnimationFrame		||
				window.oRequestAnimationFrame		||
				window.msRequestAnimationFrame		||
				function(/* function */ callback, /* DOM Element */ element){
					window.setTimeout(callback, 1000 / 60);
				};
			})();
		function move(){
			x += (dx - x) * 0.15;
			y += (dy - y) * 0.15;
			b.style.left = x + "px";
			b.style.top = y + "px";
			//Makes sure the box continues to move.
			if(Math.abs(x - dx) < 1) {
				dx = Math.random() * 600;
				dy = Math.random() * 600;
			}
			requestAnimFrame(move, b);
		}


	</script>


	</head>

<body onload="init()">


<div id="box">
</div>

<div>
   <h2 id="speed">speed = 0</h2>
</div>


</body>




</html>
